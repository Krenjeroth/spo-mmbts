import{_ as Y,a as K}from"./C8qUqt0S.js";import{_ as Q}from"./_9ZTpig7.js";import{_ as M,d as S,c as f,o as a,a as h,h as y,f as r,e as p,n as v,i as R,m as $,k as E,p as U,t as F,F as I,j as L,a2 as B,a3 as V,q as N,u as q,s as D,v as P,C as O,D as T,E as C,w as i,ai as W,a5 as Z,Y as x,$ as tt,z as et,g as c,X as n}from"#entry";import{_ as ot}from"./CFo5vVrQ.js";import{u as at}from"./DlX1qgfK.js";import"./DYXxPDVW.js";import"./bPUzXHqf.js";const st={wrapper:"w-full relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium",description:"mt-1 text-sm leading-4 opacity-90",descriptionOnly:"mt-0 leading-5",actions:"flex items-center gap-2 mt-3 flex-shrink-0",shadow:"",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0 self-center",size:"md"},color:{white:{solid:"text-gray-900 dark:text-white bg-white dark:bg-gray-900 ring-1 ring-gray-200 dark:ring-gray-800"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{color:"white",variant:"solid",icon:null,closeButton:null,actionButton:{size:"xs",color:"primary",variant:"link"}}},nt={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"},d=N(C.ui.strategy,C.ui.alert,st),rt=S({components:{UIcon:R,UAvatar:E,UButton:V},inheritAttrs:!1,props:{title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>d.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>d.default.closeButton},actions:{type:Array,default:()=>[]},color:{type:String,default:()=>d.default.color,validator(t){return[...C.ui.colors,...Object.keys(d.color)].includes(t)}},variant:{type:String,default:()=>d.default.variant,validator(t){return[...Object.keys(d.variant),...Object.values(d.color).flatMap(e=>Object.keys(e))].includes(t)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["close"],setup(t){const{ui:e,attrs:l}=q("alert",D(t,"ui"),d),m=P(()=>{const u=e.value.color?.[t.color]?.[t.variant]||e.value.variant[t.variant];return O(T(e.value.wrapper,e.value.rounded,e.value.shadow,e.value.padding,u?.replaceAll("{color}",t.color)),t.class)});function k(u){u.click&&u.click()}return{ui:e,attrs:l,alertClass:m,onAction:k,twMerge:O}}});function it(t,e,l,m,k,u){const g=R,j=E,b=V;return a(),f("div",$({class:t.alertClass},t.attrs),[h("div",{class:v(["flex",[t.ui.gap,{"items-start":t.description||t.$slots.description,"items-center":!t.description&&!t.$slots.description}]])},[y(t.$slots,"icon",{icon:t.icon},()=>[t.icon?(a(),p(g,{key:0,name:t.icon,class:v(t.ui.icon.base)},null,8,["name","class"])):r("",!0)]),y(t.$slots,"avatar",{avatar:t.avatar},()=>[t.avatar?(a(),p(j,$({key:0},{size:t.ui.avatar.size,...t.avatar},{class:t.ui.avatar.base}),null,16,["class"])):r("",!0)]),h("div",{class:v(t.ui.inner)},[t.title||t.$slots.title?(a(),f("p",{key:0,class:v(t.ui.title)},[y(t.$slots,"title",{title:t.title},()=>[U(F(t.title),1)])],2)):r("",!0),t.description||t.$slots.description?(a(),f("div",{key:1,class:v(t.twMerge(t.ui.description,!t.title&&!t.$slots.title&&t.ui.descriptionOnly))},[y(t.$slots,"description",{description:t.description},()=>[U(F(t.description),1)])],2)):r("",!0),(t.description||t.$slots.description)&&(t.actions.length||t.$slots.actions)?(a(),f("div",{key:2,class:v(t.ui.actions)},[y(t.$slots,"actions",{},()=>[(a(!0),f(I,null,L(t.actions,(s,o)=>(a(),p(b,$({key:o},{ref_for:!0},{...t.ui.default.actionButton||{},...s},{onClick:B(w=>t.onAction(s),["stop"])}),null,16,["onClick"]))),128))])],2)):r("",!0)],2),t.closeButton||!t.description&&!t.$slots.description&&t.actions.length?(a(),f("div",{key:0,class:v(t.twMerge(t.ui.actions,"mt-0"))},[!t.description&&!t.$slots.description&&(t.actions.length||t.$slots.actions)?y(t.$slots,"actions",{key:0},()=>[(a(!0),f(I,null,L(t.actions,(s,o)=>(a(),p(b,$({key:o},{ref_for:!0},{...t.ui.default.actionButton||{},...s},{onClick:B(w=>t.onAction(s),["stop"])}),null,16,["onClick"]))),128))]):r("",!0),t.closeButton?(a(),p(b,$({key:1,"aria-label":"Close"},{...t.ui.default.closeButton||{},...t.closeButton},{onClick:e[0]||(e[0]=B(s=>t.$emit("close"),["stop"]))}),null,16)):r("",!0)],2)):r("",!0)],2)],16)}const lt=Object.assign(M(rt,[["render",it]]),{__name:"UAlert"}),ut=N(C.ui.strategy,C.ui.container,nt),ct=S({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(t){const{ui:e,attrs:l}=q("container",D(t,"ui"),ut),m=P(()=>O(T(e.value.base,e.value.padding,e.value.constrained),t.class));return{ui:e,attrs:l,containerClass:m}}});function dt(t,e,l,m,k,u){return a(),p(W(t.as),$({class:t.containerClass},t.attrs),{default:i(()=>[y(t.$slots,"default")]),_:3},16,["class"])}const pt=Object.assign(M(ct,[["render",dt]]),{__name:"UContainer"}),mt={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},wt=S({__name:"login",setup(t){const e=Z();x({title:"Login"});const l=at(),{loading:m,errorBag:k,hasError:u}=tt(l),g=et({email:void 0,password:void 0}),j=s=>{const o=[];return s.email||o.push({path:"email",message:"Required"}),s.password||o.push({path:"password",message:"Required"}),o},b=async s=>{await l.authLogin(s.data),((await auth.user())?.roles?.map(_=>_.title)??[]).includes("judge")?e.push("/scores"):e.push("/")};return(s,o)=>{const w=K,_=Q,z=V,G=lt,H=Y,J=ot,X=pt;return a(),p(X,{class:"flex justify-center items-center m-auto min-h-[calc(90vh-var(--footer-height))]"},{default:i(()=>[c(J,{class:"flex-col justify-center px-6 py-12 lg:px-8"},{default:i(()=>[o[4]||(o[4]=h("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm text-center"},[h("h2",{class:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900 dark:text-gray-300"}," Sign in to your account ")],-1)),h("div",mt,[c(H,{state:n(g),errors:n(k),class:"space-y-6",validate:j,onSubmit:B(b,["prevent"])},{default:i(()=>[c(_,{label:"Email",name:"email"},{default:i(()=>[c(w,{modelValue:n(g).email,"onUpdate:modelValue":o[0]||(o[0]=A=>n(g).email=A)},null,8,["modelValue"])]),_:1}),c(_,{label:"Password",name:"password"},{default:i(()=>[c(w,{modelValue:n(g).password,"onUpdate:modelValue":o[1]||(o[1]=A=>n(g).password=A),type:"password"},null,8,["modelValue"])]),_:1}),c(z,{type:"submit",loading:n(m)},{default:i(()=>[...o[2]||(o[2]=[U(" Login ",-1)])]),_:1},8,["loading"]),n(u)?(a(),p(G,{key:0,variant:"subtle",color:"red",title:"Invalid Credentials",description:n(k).email},{actions:i(()=>[c(z,{color:"gray",variant:"link",padded:!1},{default:i(()=>[...o[3]||(o[3]=[U(" Forgot Password ",-1)])]),_:1})]),_:1},8,["description"])):r("",!0)]),_:1},8,["state","errors"])])]),_:1})]),_:1})}}});export{wt as default};
