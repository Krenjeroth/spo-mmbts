import{d as U,N as q,c as l,o as s,e as i,g as u,a3 as R,w as C,t as T,X as x,_ as D,f as p,n as y,F as O,h as w,b as h,i as N,m as $,k as L,q as I,u as H,s as P,v as f,C as J,D as S,E as B,j as F,p as E,aw as X,ax as M,ay as G,P as Q,T as W,a6 as Y,z as Z}from"#entry";import{_ as ee,a as K}from"./CGL4pY6L.js";import{u as te}from"./DYXxPDVW.js";import"./DpB_hE1g.js";import"./bPUzXHqf.js";const ae={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs",type:"solid"}},se={wrapper:"relative",base:"group relative flex items-center gap-1.5 focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-1 focus-visible:before:ring-primary-500 dark:focus-visible:before:ring-primary-400 before:absolute before:inset-px before:rounded-md disabled:cursor-not-allowed disabled:opacity-75",ring:"focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-primary-500 dark:focus-visible:ring-primary-400",padding:"px-2.5 py-1.5",width:"w-full",rounded:"rounded-md",font:"font-medium",size:"text-sm",active:"text-gray-900 dark:text-white before:bg-gray-100 dark:before:bg-gray-800",inactive:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:before:bg-gray-50 dark:hover:before:bg-gray-800/50",label:"truncate relative",icon:{base:"flex-shrink-0 w-5 h-5 relative",active:"text-gray-700 dark:text-gray-200",inactive:"text-gray-400 dark:text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-200"},avatar:{base:"flex-shrink-0",size:"2xs"},badge:{base:"flex-shrink-0 ms-auto relative rounded",color:"gray",variant:"solid",size:"xs"},divider:{wrapper:{base:"p-2"}}},re={class:"h-16 content-center bg-background/75 backdrop-blur border-b -mb-px sticky top-0 z-50 border-gray-200 dark:border-gray-800"},oe={class:"px-4 sm:px-6 lg:px-8 max-w-full flex items-center justify-between gap-3 h-[--header-height]"},ne={class:"lg:flex-1 flex items-center gap-1.5 min-w-0"},ie={class:"flex items-center justify-end lg:flex-1 gap-1.5"},le={class:"text-sm text-gray-700 dark:text-gray-300"},ce=U({__name:"AppHeader",setup(e){const{user:t,logout:c}=te(),d=async()=>{await c()};console.log(t),q();const n=[[{label:"Logout",icon:"i-heroicons-arrow-left-on-rectangle",click:d}]];return(m,b)=>{const g=R,k=ee;return s(),l("header",re,[i("div",oe,[i("div",ne,[u(g,{class:"lg:hidden",icon:"i-heroicons-bars-3",variant:"ghost",onClick:b[0]||(b[0]=_=>m.$emit("toggle-sidebar")),"aria-label":"Open sidebar"})]),i("div",ie,[u(g,{variant:"ghost",icon:"i-heroicons-magnifying-glass",class:"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800"}),u(g,{variant:"ghost",icon:"i-heroicons-bell",class:"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800"}),u(k,{items:n,popper:{placement:"bottom-end"}},{default:C(()=>[u(g,{variant:"ghost",class:"text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white hover:bg-gray-50 dark:hover:bg-gray-800"},{default:C(()=>[i("span",le,T(x(t)?.roles[0]?.title+" "+x(t)?.name),1)]),_:1})]),_:1})])])])}}}),de=Object.assign(ce,{__name:"BaseAppHeader"}),A=I(B.ui.strategy,B.ui.divider,ae),ue=U({components:{UIcon:N,UAvatar:L},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>A.default.size,validator(e){return Object.keys(A.border.size.horizontal).includes(e)||Object.keys(A.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:()=>A.default.type,validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:c}=H("divider",P(e,"ui"),A),d=f(()=>J(S(t.value.wrapper.base,t.value.wrapper[e.orientation]),e.class)),n=f(()=>S(t.value.container.base,t.value.container[e.orientation])),m=f(()=>S(t.value.border.base,t.value.border[e.orientation],t.value.border.size[e.orientation][e.size],t.value.border.type[e.type]));return{ui:t,attrs:c,wrapperClass:d,containerClass:n,borderClass:m}}});function ge(e,t,c,d,n,m){const b=N,g=L;return s(),l("div",$({class:e.wrapperClass},e.attrs),[i("div",{class:y(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(s(),l(O,{key:0},[i("div",{class:y(e.containerClass)},[w(e.$slots,"default",{},()=>[e.label?(s(),l("span",{key:0,class:y(e.ui.label)},T(e.label),3)):e.icon?(s(),h(b,{key:1,name:e.icon,class:y(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(s(),h(g,$({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):p("",!0)])],2),i("div",{class:y(e.borderClass)},null,2)],64)):p("",!0)],16)}const V=Object.assign(D(ue,[["render",ge]]),{__name:"UDivider"}),pe=I(B.ui.strategy,B.ui.verticalNavigation,se),be=U({components:{UIcon:N,UAvatar:L,UBadge:K,ULink:M,UDivider:V},inheritAttrs:!1,props:{links:{type:Array,default:()=>[]},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:c}=H("verticalNavigation",P(e,"ui"),pe,P(e,"class")),d=f(()=>Array.isArray(e.links[0])?e.links:[e.links]);return{ui:t,attrs:c,sections:d,getULinkProps:G,twMerge:J,twJoin:S}}}),fe={key:0,class:"sr-only"};function me(e,t,c,d,n,m){const b=L,g=N,k=K,_=M,z=V;return s(),l("nav",$({class:e.ui.wrapper},e.attrs),[(s(!0),l(O,null,F(e.sections,(a,o)=>(s(),l("ul",{key:`section${o}`},[(s(!0),l(O,null,F(a,(r,j)=>(s(),l("li",{key:`section${o}-${j}`},[u(_,$({ref_for:!0},e.getULinkProps(r),{class:[e.ui.base,e.ui.padding,e.ui.width,e.ui.ring,e.ui.rounded,e.ui.font,e.ui.size],"active-class":e.ui.active,"inactive-class":e.ui.inactive,onClick:r.click,onKeyup:t[0]||(t[0]=X(v=>v.target.blur(),["enter"]))}),{default:C(({isActive:v})=>[w(e.$slots,"avatar",{link:r,isActive:v},()=>[r.avatar?(s(),h(b,$({key:0,ref_for:!0},{size:e.ui.avatar.size,...r.avatar},{class:[e.ui.avatar.base]}),null,16,["class"])):p("",!0)]),w(e.$slots,"icon",{link:r,isActive:v},()=>[r.icon?(s(),h(g,{key:0,name:r.icon,class:y(e.twMerge(e.twJoin(e.ui.icon.base,v?e.ui.icon.active:e.ui.icon.inactive),r.iconClass))},null,8,["name","class"])):p("",!0)]),w(e.$slots,"default",{link:r,isActive:v},()=>[r.label?(s(),l("span",{key:0,class:y(e.twMerge(e.ui.label,r.labelClass))},[v?(s(),l("span",fe," Current page: ")):p("",!0),E(" "+T(r.label),1)],2)):p("",!0)]),w(e.$slots,"badge",{link:r,isActive:v},()=>[r.badge?(s(),h(k,$({key:0,ref_for:!0},{size:e.ui.badge.size,color:e.ui.badge.color,variant:e.ui.badge.variant,...typeof r.badge=="string"||typeof r.badge=="number"?{label:r.badge}:r.badge},{class:e.ui.badge.base}),null,16,["class"])):p("",!0)])]),_:2},1040,["class","active-class","inactive-class","onClick"])]))),128)),o<e.sections.length-1?(s(),h(z,{key:0,ui:e.ui.divider},null,8,["ui"])):p("",!0)]))),128))],16)}const ve=Object.assign(D(be,[["render",me]]),{__name:"UVerticalNavigation"}),ye={class:"fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-900 shadow-2xl z-[1400] flex flex-col",style:{"backdrop-filter":"none"}},he={class:"hidden overflow-y-auto lg:block lg:w-[--sidebar-width] lg:max-h[calc(100vh-var(--header-height))] lg:top-[--header-height] py-2 lg:px-1 lg:mx-1 border-r border-gray-200 dark:border-gray-800"},_e=U({__name:"AppSidebar",props:{isOpen:{type:Boolean,default:!1}},emits:["close-sidebar"],setup(e,{emit:t}){const c=e,d=t,n=Q();f(()=>n.value?.id??null),f(()=>n.value?.email??null);const m=f(()=>{const a=n.value?.roles;return Array.isArray(a)?a.map(o=>o.title):[]}),b=f(()=>{const a=n.value?.permissions;return!a||typeof a!="object"?[]:Object.keys(a).filter(o=>a[o]===!0)}),g=[[{label:"Control Panel",icon:"material-symbols:admin-panel-settings-outline-rounded",to:"/control-panel",roles:["Admin"]}],[{label:"Scores",icon:"material-symbols:scoreboard",to:"/scores",roles:["Judge"],permissions:["score_view","score_manage"]},{label:"Category Results",icon:"material-symbols:category",to:"/category-results",roles:["Admin","Tabulator"],permissions:["score_view","score_manage"]},{label:"Final Results",icon:"material-symbols:trophy",to:"/final-results",roles:["Admin","Tabulator"]}]],k=a=>{if(a.roles?.length&&!a.roles.some(o=>m.value.includes(o))||a.permissions?.length&&!a.permissions.some(o=>b.value.includes(o)))return!1;if(a.users?.length){const o=n.value?.id;if(!a.users.includes(o))return!1}return!0},_=f(()=>g.map(a=>a.filter(o=>k(o))).filter(a=>a.length));function z(a){a.target===a.currentTarget&&d("close-sidebar")}return(a,o)=>{const r=R,j=ve;return s(),l(O,null,[u(W,{name:"fade"},{default:C(()=>[c.isOpen?(s(),l("div",{key:0,class:"fixed inset-0 z-[1300] bg-black bg-opacity-40 lg:hidden",onClick:z,style:{"backdrop-filter":"none"}},[i("aside",ye,[u(r,{variant:"ghost",icon:"i-heroicons-x-mark",class:"self-end m-2 p-2 rounded hover:bg-gray-200 dark:hover:bg-gray-800",onClick:o[0]||(o[0]=v=>a.$emit("close-sidebar")),"aria-label":"Close sidebar"}),u(j,{links:_.value,ui:{wrapper:"",base:"flex items-center rounded-lg transition-colors px-2 py-2 justify-start text-left w-full",label:"block w-full text-left",icon:{base:"flex-shrink-0 w-6 h-6 items-center block hover:text-primary dark:text-gray-400"}}},null,8,["links"])])])):p("",!0)]),_:1}),i("aside",he,[u(j,{links:_.value,ui:{wrapper:"lg:block",base:"flex items-center rounded-lg transition-colors px-2 py-2 lg:px-4 justify-center lg:justify-start lg:gap-3",label:"hidden lg:block",icon:{base:"flex-shrink-0 w-6 h-6 items-center block hover:text-primary dark:text-gray-400"}}},null,8,["links"])])],64)}}}),xe=Object.assign(_e,{__name:"BaseAppSidebar"}),ke={},we={class:"relative"},$e={class:"mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl py-8 lg:py-4 lg:flex lg:items-center lg:justify-between lg:gap-x-3 h-[--footer-height]"},ze={class:"flex items-center justify-center lg:justify-start lg:flex-1 gap-x-1.5 mt-3 lg:mt-0 lg:order-1"};function Ae(e,t){const c=M;return s(),l("footer",we,[i("div",null,[i("div",$e,[t[1]||(t[1]=i("div",{class:"lg:flex-1 flex items-center justify-center lg:justify-end gap-x-1.5 lg:order-3"},null,-1)),i("div",ze,[u(c,{class:"text-sm text-gray-500 dark:text-gray-400"},{default:C(()=>[...t[0]||(t[0]=[E("Mister and Miss Benguet - ",-1),i("span",{class:"text-gray-900 dark:text-white"},"2025",-1)])]),_:1})])])])])}const Ce=Object.assign(D(ke,[["render",Ae]]),{__name:"BaseAppFooter"}),Ue={class:"min-h-screen flex"},je={class:"flex-1 flex flex-col"},Se={class:"flex-1 flex min-h-[calc(50vh-var(--header-height))]"},Te=U({__name:"default",setup(e){const t=Y(),c=["auth-login"],d=f(()=>c.includes(t.name)),n=Z(!1),m=()=>{n.value=!n.value},b=()=>{n.value=!1};return(g,k)=>{const _=de,z=xe,a=V,o=Ce;return s(),l("div",Ue,[i("div",je,[x(d)?p("",!0):(s(),h(_,{key:0,"is-sidebar-open":x(n),onToggleSidebar:m},null,8,["is-sidebar-open"])),i("main",Se,[x(d)?p("",!0):(s(),h(z,{key:0,"is-open":x(n),onCloseSidebar:b},null,8,["is-open"])),i("div",{class:y(["flex-1 mx-auto p-2 lg:p-6",x(d)?"m-auto":"mx-auto"])},[w(g.$slots,"default")],2)]),u(a,{class:"h-px bg-gray-200 dark:bg-gray-800",ui:{container:{base:"bg-white dark:bg-gray-900 px-4"}}}),u(o)])])}}});export{Te as default};
